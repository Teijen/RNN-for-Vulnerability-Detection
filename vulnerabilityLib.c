#include <stdio.h>
#include <string.h>

/*Start declalaction*/
/*Vuln headers*/
char* copyOne(char* message);
int catOne(char* input);
char* catTwo(char* s1, char* s2);
void vulArray();
/*Safe headers*/
int emptyFunction();
/*End declalaction*/

int main(int argc, char* argv[]){

    /*VULNERABLE CALLS*/

    /*Call start*/
    char* inputString = copyOne(argv[1]);
    printf("Got string form input: %s\n", inputString);
    /*Call end*/
    
    /*Call start*/
    catOne(argv[1]);  
    /*Call end*/

    /*Call start*/
    char* strToPrint = catTwo(argv[1], argv[2]);
    printf("These are the concatinated strings: %s\n", strToPrint);
    /*Call end*/


    /*Call start*/
   // vulArray(); //THIS ONE CRASHES THE PROGRAM 
    /*Call end*/

    /*SAFE CALLS*/ 
    
    /*Call start*/
    emptyFunction();
    /*Call end*/
    return 0;
}
/*funcstart*/
/*funcend*/

/*
* VULNERABLE CODE FUNCTIONS 
/*
/*funcstart*/
char* copyOne(char* inputString){
    /*Trying to copy a too long string into a fixed array size*/
    char buffer [10];
    strcpy(buffer, inputString);
}
/*funcend*/

/*funcstart*/
int catOne(char* input){
    /* Concatinate and copy too long strings into fixed array size*/
    char buffer [20];
    char* str = "Greetings: ";
    strcpy(buffer, str);
    strcat(buffer, input);
    printf("%s\n",buffer);
    return 0;
}
/*funcend*/

/*funcstart*/
char* catTwo(char* s1, char* s2){
    /* Concatinate two input strings into fixed array size*/
    char buffer [30];
    strcpy(buffer,s1);
    strcat(buffer, s2);
}
/*funcend*/

/*funcstart*/
/*funcend/*

/*funcstart*/
void vulArray(){
    /*Trying to copy a too long string into a fixed array size*/
    char x[10];
    char* str = "A string too long";
    strcpy(x, str);
    printf("%s\n",x);
}
/*funcend*/

/*funcstart*/

/*funcend*/


/*
* SAFE FUNCTIONS
*/

/*funcstart*/
int emptyFunction(){
    int a = 10;
    printf("%d\n",a);
    return 0;
}
/*funcend*/
